<template>
  <div id="target">
    <div>

      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus nec augue in ex blandit posuere eu sed odio. Morbi scelerisque, sem vitae cursus faucibus, dolor est blandit orci, ut vestibulum nisi risus sed eros. Aliquam nunc odio, dapibus commodo vehicula vel, vulputate sit amet nisl. Fusce dapibus, massa id suscipit porttitor, nisl risus congue odio, et ornare felis quam a turpis. Morbi a ante tempus odio fermentum congue. Morbi accumsan quam id convallis volutpat. Nam feugiat condimentum lacus, in luctus nulla interdum sit amet. Maecenas cursus felis et augue sagittis vulputate. Mauris euismod faucibus elit at aliquet. Ut neque lacus, malesuada sit amet enim ac, iaculis luctus risus. Donec faucibus felis at arcu faucibus, sed porttitor dui dictum. Mauris vel metus sit amet ante laoreet mollis non at urna. Suspendisse magna nibh, laoreet ut laoreet eu, fermentum at leo. Donec sit amet hendrerit dolor. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nam nibh lacus, pulvinar eu viverra ut, malesuada eu tellus.

      Maecenas lorem enim, sodales a libero at, posuere interdum nisi. Nunc bibendum finibus placerat. Vivamus efficitur aliquam neque at vehicula. Sed ornare blandit risus non semper. Sed id odio commodo ante luctus facilisis a quis quam. Aenean dolor neque, dictum non faucibus ut, consectetur quis erat. Nullam vel lectus sagittis, pulvinar est quis, dictum quam. Aliquam sit amet tortor mi. Duis imperdiet gravida arcu, nec egestas dolor maximus a. Phasellus sit amet est diam. Suspendisse condimentum nunc at ex posuere, eu dictum augue pharetra.

      Donec hendrerit enim nec mauris dictum pellentesque. Nam condimentum nulla ac ante scelerisque, in interdum quam aliquam. Aenean id turpis sed ipsum facilisis ullamcorper at vel felis. Integer sit amet elit pretium, sodales nisi vitae, eleifend arcu. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam finibus tortor nec dapibus lacinia. Donec rhoncus, ante tristique commodo efficitur, nibh ipsum aliquet leo, at placerat augue est in velit. Nullam bibendum nunc at lorem commodo, eu porttitor erat malesuada. Nulla a ante a sem facilisis aliquam. Sed rhoncus ipsum et sollicitudin maximus. Aenean semper pretium velit, quis fringilla ipsum eleifend a.

      Duis laoreet massa diam, id mattis libero mattis pretium. Pellentesque neque tellus, iaculis ut varius et, vulputate sit amet neque. Duis consectetur mollis dapibus. Maecenas consectetur faucibus dui non aliquet. Nulla ante augue, feugiat sed orci sodales, finibus bibendum dolor. Donec tempus porta placerat. Vivamus tincidunt venenatis diam in tempor. Morbi et ultrices metus, eu lacinia sapien. Aenean orci neque, lacinia non dui vel, rhoncus consequat leo. Donec quam neque, lacinia eget ex ac, tristique rhoncus sem. Sed dapibus fringilla imperdiet.

      Aliquam non magna at velit semper cursus id quis augue. Aenean lobortis et urna et blandit. Sed ultrices fringilla orci, sit amet bibendum massa consequat non. Donec efficitur condimentum placerat. Pellentesque in laoreet risus. Donec vestibulum at lectus sed placerat. Nullam a ipsum est.
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus nec augue in ex blandit posuere eu sed odio. Morbi scelerisque, sem vitae cursus faucibus, dolor est blandit orci, ut vestibulum nisi risus sed eros. Aliquam nunc odio, dapibus commodo vehicula vel, vulputate sit amet nisl. Fusce dapibus, massa id suscipit porttitor, nisl risus congue odio, et ornare felis quam a turpis. Morbi a ante tempus odio fermentum congue. Morbi accumsan quam id convallis volutpat. Nam feugiat condimentum lacus, in luctus nulla interdum sit amet. Maecenas cursus felis et augue sagittis vulputate. Mauris euismod faucibus elit at aliquet. Ut neque lacus, malesuada sit amet enim ac, iaculis luctus risus. Donec faucibus felis at arcu faucibus, sed porttitor dui dictum. Mauris vel metus sit amet ante laoreet mollis non at urna. Suspendisse magna nibh, laoreet ut laoreet eu, fermentum at leo. Donec sit amet hendrerit dolor. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nam nibh lacus, pulvinar eu viverra ut, malesuada eu tellus.

      Maecenas lorem enim, sodales a libero at, posuere interdum nisi. Nunc bibendum finibus placerat. Vivamus efficitur aliquam neque at vehicula. Sed ornare blandit risus non semper. Sed id odio commodo ante luctus facilisis a quis quam. Aenean dolor neque, dictum non faucibus ut, consectetur quis erat. Nullam vel lectus sagittis, pulvinar est quis, dictum quam. Aliquam sit amet tortor mi. Duis imperdiet gravida arcu, nec egestas dolor maximus a. Phasellus sit amet est diam. Suspendisse condimentum nunc at ex posuere, eu dictum augue pharetra.

      Donec hendrerit enim nec mauris dictum pellentesque. Nam condimentum nulla ac ante scelerisque, in interdum quam aliquam. Aenean id turpis sed ipsum facilisis ullamcorper at vel felis. Integer sit amet elit pretium, sodales nisi vitae, eleifend arcu. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam finibus tortor nec dapibus lacinia. Donec rhoncus, ante tristique commodo efficitur, nibh ipsum aliquet leo, at placerat augue est in velit. Nullam bibendum nunc at lorem commodo, eu porttitor erat malesuada. Nulla a ante a sem facilisis aliquam. Sed rhoncus ipsum et sollicitudin maximus. Aenean semper pretium velit, quis fringilla ipsum eleifend a.

      Duis laoreet massa diam, id mattis libero mattis pretium. Pellentesque neque tellus, iaculis ut varius et, vulputate sit amet neque. Duis consectetur mollis dapibus. Maecenas consectetur faucibus dui non aliquet. Nulla ante augue, feugiat sed orci sodales, finibus bibendum dolor. Donec tempus porta placerat. Vivamus tincidunt venenatis diam in tempor. Morbi et ultrices metus, eu lacinia sapien. Aenean orci neque, lacinia non dui vel, rhoncus consequat leo. Donec quam neque, lacinia eget ex ac, tristique rhoncus sem. Sed dapibus fringilla imperdiet.

      Aliquam non magna at velit semper cursus id quis augue. Aenean lobortis et urna et blandit. Sed ultrices fringilla orci, sit amet bibendum massa consequat non. Donec efficitur condimentum placerat. Pellentesque in laoreet risus. Donec vestibulum at lectus sed placerat. Nullam a ipsum est.
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus nec augue in ex blandit posuere eu sed odio. Morbi scelerisque, sem vitae cursus faucibus, dolor est blandit orci, ut vestibulum nisi risus sed eros. Aliquam nunc odio, dapibus commodo vehicula vel, vulputate sit amet nisl. Fusce dapibus, massa id suscipit porttitor, nisl risus congue odio, et ornare felis quam a turpis. Morbi a ante tempus odio fermentum congue. Morbi accumsan quam id convallis volutpat. Nam feugiat condimentum lacus, in luctus nulla interdum sit amet. Maecenas cursus felis et augue sagittis vulputate. Mauris euismod faucibus elit at aliquet. Ut neque lacus, malesuada sit amet enim ac, iaculis luctus risus. Donec faucibus felis at arcu faucibus, sed porttitor dui dictum. Mauris vel metus sit amet ante laoreet mollis non at urna. Suspendisse magna nibh, laoreet ut laoreet eu, fermentum at leo. Donec sit amet hendrerit dolor. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nam nibh lacus, pulvinar eu viverra ut, malesuada eu tellus.

      Maecenas lorem enim, sodales a libero at, posuere interdum nisi. Nunc bibendum finibus placerat. Vivamus efficitur aliquam neque at vehicula. Sed ornare blandit risus non semper. Sed id odio commodo ante luctus facilisis a quis quam. Aenean dolor neque, dictum non faucibus ut, consectetur quis erat. Nullam vel lectus sagittis, pulvinar est quis, dictum quam. Aliquam sit amet tortor mi. Duis imperdiet gravida arcu, nec egestas dolor maximus a. Phasellus sit amet est diam. Suspendisse condimentum nunc at ex posuere, eu dictum augue pharetra.

      Donec hendrerit enim nec mauris dictum pellentesque. Nam condimentum nulla ac ante scelerisque, in interdum quam aliquam. Aenean id turpis sed ipsum facilisis ullamcorper at vel felis. Integer sit amet elit pretium, sodales nisi vitae, eleifend arcu. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam finibus tortor nec dapibus lacinia. Donec rhoncus, ante tristique commodo efficitur, nibh ipsum aliquet leo, at placerat augue est in velit. Nullam bibendum nunc at lorem commodo, eu porttitor erat malesuada. Nulla a ante a sem facilisis aliquam. Sed rhoncus ipsum et sollicitudin maximus. Aenean semper pretium velit, quis fringilla ipsum eleifend a.

      Duis laoreet massa diam, id mattis libero mattis pretium. Pellentesque neque tellus, iaculis ut varius et, vulputate sit amet neque. Duis consectetur mollis dapibus. Maecenas consectetur faucibus dui non aliquet. Nulla ante augue, feugiat sed orci sodales, finibus bibendum dolor. Donec tempus porta placerat. Vivamus tincidunt venenatis diam in tempor. Morbi et ultrices metus, eu lacinia sapien. Aenean orci neque, lacinia non dui vel, rhoncus consequat leo. Donec quam neque, lacinia eget ex ac, tristique rhoncus sem. Sed dapibus fringilla imperdiet.

      Aliquam non magna at velit semper cursus id quis augue. Aenean lobortis et urna et blandit. Sed ultrices fringilla orci, sit amet bibendum massa consequat non. Donec efficitur condimentum placerat. Pellentesque in laoreet risus. Donec vestibulum at lectus sed placerat. Nullam a ipsum est.
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus nec augue in ex blandit posuere eu sed odio. Morbi scelerisque, sem vitae cursus faucibus, dolor est blandit orci, ut vestibulum nisi risus sed eros. Aliquam nunc odio, dapibus commodo vehicula vel, vulputate sit amet nisl. Fusce dapibus, massa id suscipit porttitor, nisl risus congue odio, et ornare felis quam a turpis. Morbi a ante tempus odio fermentum congue. Morbi accumsan quam id convallis volutpat. Nam feugiat condimentum lacus, in luctus nulla interdum sit amet. Maecenas cursus felis et augue sagittis vulputate. Mauris euismod faucibus elit at aliquet. Ut neque lacus, malesuada sit amet enim ac, iaculis luctus risus. Donec faucibus felis at arcu faucibus, sed porttitor dui dictum. Mauris vel metus sit amet ante laoreet mollis non at urna. Suspendisse magna nibh, laoreet ut laoreet eu, fermentum at leo. Donec sit amet hendrerit dolor. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nam nibh lacus, pulvinar eu viverra ut, malesuada eu tellus.

      Maecenas lorem enim, sodales a libero at, posuere interdum nisi. Nunc bibendum finibus placerat. Vivamus efficitur aliquam neque at vehicula. Sed ornare blandit risus non semper. Sed id odio commodo ante luctus facilisis a quis quam. Aenean dolor neque, dictum non faucibus ut, consectetur quis erat. Nullam vel lectus sagittis, pulvinar est quis, dictum quam. Aliquam sit amet tortor mi. Duis imperdiet gravida arcu, nec egestas dolor maximus a. Phasellus sit amet est diam. Suspendisse condimentum nunc at ex posuere, eu dictum augue pharetra.

      Donec hendrerit enim nec mauris dictum pellentesque. Nam condimentum nulla ac ante scelerisque, in interdum quam aliquam. Aenean id turpis sed ipsum facilisis ullamcorper at vel felis. Integer sit amet elit pretium, sodales nisi vitae, eleifend arcu. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam finibus tortor nec dapibus lacinia. Donec rhoncus, ante tristique commodo efficitur, nibh ipsum aliquet leo, at placerat augue est in velit. Nullam bibendum nunc at lorem commodo, eu porttitor erat malesuada. Nulla a ante a sem facilisis aliquam. Sed rhoncus ipsum et sollicitudin maximus. Aenean semper pretium velit, quis fringilla ipsum eleifend a.

      Duis laoreet massa diam, id mattis libero mattis pretium. Pellentesque neque tellus, iaculis ut varius et, vulputate sit amet neque. Duis consectetur mollis dapibus. Maecenas consectetur faucibus dui non aliquet. Nulla ante augue, feugiat sed orci sodales, finibus bibendum dolor. Donec tempus porta placerat. Vivamus tincidunt venenatis diam in tempor. Morbi et ultrices metus, eu lacinia sapien. Aenean orci neque, lacinia non dui vel, rhoncus consequat leo. Donec quam neque, lacinia eget ex ac, tristique rhoncus sem. Sed dapibus fringilla imperdiet.

      Aliquam non magna at velit semper cursus id quis augue. Aenean lobortis et urna et blandit. Sed ultrices fringilla orci, sit amet bibendum massa consequat non. Donec efficitur condimentum placerat. Pellentesque in laoreet risus. Donec vestibulum at lectus sed placerat. Nullam a ipsum est.
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus nec augue in ex blandit posuere eu sed odio. Morbi scelerisque, sem vitae cursus faucibus, dolor est blandit orci, ut vestibulum nisi risus sed eros. Aliquam nunc odio, dapibus commodo vehicula vel, vulputate sit amet nisl. Fusce dapibus, massa id suscipit porttitor, nisl risus congue odio, et ornare felis quam a turpis. Morbi a ante tempus odio fermentum congue. Morbi accumsan quam id convallis volutpat. Nam feugiat condimentum lacus, in luctus nulla interdum sit amet. Maecenas cursus felis et augue sagittis vulputate. Mauris euismod faucibus elit at aliquet. Ut neque lacus, malesuada sit amet enim ac, iaculis luctus risus. Donec faucibus felis at arcu faucibus, sed porttitor dui dictum. Mauris vel metus sit amet ante laoreet mollis non at urna. Suspendisse magna nibh, laoreet ut laoreet eu, fermentum at leo. Donec sit amet hendrerit dolor. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nam nibh lacus, pulvinar eu viverra ut, malesuada eu tellus.

      Maecenas lorem enim, sodales a libero at, posuere interdum nisi. Nunc bibendum finibus placerat. Vivamus efficitur aliquam neque at vehicula. Sed ornare blandit risus non semper. Sed id odio commodo ante luctus facilisis a quis quam. Aenean dolor neque, dictum non faucibus ut, consectetur quis erat. Nullam vel lectus sagittis, pulvinar est quis, dictum quam. Aliquam sit amet tortor mi. Duis imperdiet gravida arcu, nec egestas dolor maximus a. Phasellus sit amet est diam. Suspendisse condimentum nunc at ex posuere, eu dictum augue pharetra.

      Donec hendrerit enim nec mauris dictum pellentesque. Nam condimentum nulla ac ante scelerisque, in interdum quam aliquam. Aenean id turpis sed ipsum facilisis ullamcorper at vel felis. Integer sit amet elit pretium, sodales nisi vitae, eleifend arcu. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam finibus tortor nec dapibus lacinia. Donec rhoncus, ante tristique commodo efficitur, nibh ipsum aliquet leo, at placerat augue est in velit. Nullam bibendum nunc at lorem commodo, eu porttitor erat malesuada. Nulla a ante a sem facilisis aliquam. Sed rhoncus ipsum et sollicitudin maximus. Aenean semper pretium velit, quis fringilla ipsum eleifend a.

      Duis laoreet massa diam, id mattis libero mattis pretium. Pellentesque neque tellus, iaculis ut varius et, vulputate sit amet neque. Duis consectetur mollis dapibus. Maecenas consectetur faucibus dui non aliquet. Nulla ante augue, feugiat sed orci sodales, finibus bibendum dolor. Donec tempus porta placerat. Vivamus tincidunt venenatis diam in tempor. Morbi et ultrices metus, eu lacinia sapien. Aenean orci neque, lacinia non dui vel, rhoncus consequat leo. Donec quam neque, lacinia eget ex ac, tristique rhoncus sem. Sed dapibus fringilla imperdiet.

      Aliquam non magna at velit semper cursus id quis augue. Aenean lobortis et urna et blandit. Sed ultrices fringilla orci, sit amet bibendum massa consequat non. Donec efficitur condimentum placerat. Pellentesque in laoreet risus. Donec vestibulum at lectus sed placerat. Nullam a ipsum est.

    </div>
  </div>
</template>


<script>
jQuery(document).ready(function($) {
  $window = $(window);

  // 다음 섹션이 브라우저 하단으로부터 200px 만큼 보여질때
  var delayPosition = 200,
    // 현재 브라우저의 높이값
    windowheight;

  // 브라우저의 크기가 변하면 대상 엘리먼트의 위치값을 다시 할당
  $window.on('resize', function() {
    insertTargetPosition();
  });

  // 스크롤이 이동할때
  $window.on('scroll', function() {
    // 현재의 위치 = 스크롤이 이동한 값 + 윈도우 높이 - 처음에 선언한 지연 위치값(200);
    var position = $window.scrollTop() + windowheight - delayPosition;

    // 아직 활성화되지 않은 타겟 엘리먼트를 순회하여
    $('.target-section.ready').each(function() {
      // 활성화되어 있지 않고 타겟의 위차값이 현재 위치값보다 작으면
      if(!$(this).hasClass('active') && $(this).data('offsetTop') < position) {
        // 활성화
        $(this).addClass('active');
        // 활성화 된 엘리먼트는 이후 타겟에서 제외
        $(this).removeClass('ready');
      }
    });
  });

  function insertTargetPosition() {
    windowheight = $window.height(); // 브라우저의 높이값 할당
    $('.target-section').each(function() { // 모든 대상 엘리먼트에
      $(this).data('offsetTop', ($(this).offset().top)); // 각자의 위치 값을 할당
    });
  }

  (function init() {
    // 최초 진입시 각 섹션의 위치값을 할당
    // 컨텐츠 중에 이미지 파일이 있거나 비동기로 가져오는 값이 있다면, 대상 요소들이 모두 불러진 후에
    // 각 섹션의 위치값을 다시 할당해 줘어야 합니다.
    insertTargetPosition();
  })();
});
</script>
<script>
export default {
  name: 'TestView',
  data() {
    return {

    }
  },
  method: {

  },
  mounted() {
    const window = $(window);

    window.on('scroll', function () {
      console.log(window.scrollTop())
    })
  },

}

</script>

<style scoped>

</style>
